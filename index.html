<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link href="./src/output.css" rel="stylesheet" />
  </head>
  <body>
    <div class="flex flex-col items-center justify-center w-1/2 mx-auto min-h-screen rounded-lg bg-gray-100 gap-8">
        <h1 class="text-4xl">Movie Search App</h1>
      <input type="text" id="searchInput" placeholder="Search movies..." />
      <button onclick="searchMovies()">Search</button>
      <div id="moviesList"></div>
    </div>
  </body>
  <script>
    function searchMovies(){
        const query = document.getElementById('searchInput').value.trim();
        const moviesList = document.getElementById('moviesList');
        const url = `https://www.omdbapi.com/?apikey=YOUR_API_KEY&s=${query}`;
        moviesList.innerHTML = '';

        if(query){
            fetch(url).then(response => {
                if(!response.ok) {
                    throw new Error('Network response was not ok');
                }
                return response.json();
            }
            ).then(data => {
                if(data.Response === 'True'){
                    data.Search.forEach(movie => {
                        const movieDiv = document.createElement('div');
                        movieDiv.className = 'movie-item';
                        movieDiv.innerHTML = `
                            <h2>${movie.Title}</h2>
                            <p>${movie.Year}</p>
                            <img src="${movie.Poster}" alt="${movie.Title} poster" />
                        `;
                        moviesList.appendChild(movieDiv);
                    });
                } else {
                    moviesList.innerHTML = `<p>${data.Error}</p>`;
                }
            }).catch(error => {
                console.error('Error fetching data:', error);
                moviesList.innerHTML = `<p>Error fetching data: ${error.message}</p>`;
            })
        }
    }
  </script>
</html>
